---
title: "Next.js 12â†’13 ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ¡ãƒ¢"
emoji: "ğŸ¦”"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["nextjs"]
published: false
---

## nextã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

[Upgrade Guide | Next.js](https://nextjs.org/docs/upgrading)

https://nextjs.org/docs/upgrading

å…¬å¼ã«å¾“ã£ã¦ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ

```sh
yarn add next@latest react@latest react-dom@latest eslint-config-next@latest
```

## <Image>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®importã®ä¿®æ­£

`next/future/image` ã‹ã‚‰ `next/image` ã«å¤‰æ›´ã•ã‚ŒãŸã®ã§ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ç®‡æ‰€ã®ä¿®æ­£

â€» ä»Šã¾ã§ã® `next/image` ã¯ `next/legacy/image` ã«ãªã‚Šã¾ã—ãŸã€‚

å…¬å¼ã‹ã‚‰ `codemod` ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§å®Ÿè¡Œ

```sh
npx @next/codemod next-image-to-legacy-image ./src
```

`next/image` ã¯ `next/legacy/image` ã¨ãªã‚Šã€`next/future/image` ã¯ `next/image` ã«å¤‰ã‚ã‚Šã¾ã—ãŸã€‚

## <Link>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¿®æ­£

ä»Šã¾ã§ã¯ `<a>` ã‚¿ã‚°ã‚’å­ã¨ã—ã¦è¿½åŠ ã—ã¦ã„ãŸã®ãŒã€ä»Šå¾Œã¯ä¸è¦ã«ãªã£ãŸã€‚

ãã®ãŸã‚ `<Link>` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® `<a>` ã‚¿ã‚°ã‚’å‰Šé™¤ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

ã“ã¡ã‚‰ã‚‚å…¬å¼ã‹ã‚‰ `codemod` ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹

```sh
npx @next/codemod new-link ./src
```

ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ `<a>` ã‚¿ã‚°ã‚’ `next/link` ã‹ã‚‰å®‰å…¨ã«å‰Šé™¤ã™ã‚‹ã‹ã€ `<Link>` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã« `legacyBehavior` ã‚’è¿½åŠ ã—ã¾ã™ã€‚
